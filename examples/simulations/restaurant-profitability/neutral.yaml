name: Restaurant Profitability Analysis (Neutral Strategy)
category: Business
description: Market-average approach with industry benchmark assumptions
version: 1.0.0
tags: [restaurant, business-planning, neutral, market-average]

parameters:
  - key: startupCosts
    label: Initial Startup Costs
    type: number
    default: 250000      # Market average
    min: 50000
    max: 1000000
    step: 5000
    description: Standard market investment for casual dining setup

  - key: monthlyRent
    label: Monthly Rent
    type: number
    default: 12000       # Market rate location
    min: 2000
    max: 50000
    step: 500
    description: Market-rate rent in good commercial area

  - key: seatingCapacity
    label: Seating Capacity
    type: number
    default: 80          # Industry standard size
    min: 20
    max: 300
    step: 5
    description: Standard capacity for casual dining restaurant

  - key: averageTicket
    label: Average Ticket Size
    type: number
    default: 45.00       # Market average pricing
    min: 10.00
    max: 200.00
    step: 1.00
    description: Industry average ticket size for casual dining

  - key: staffCount
    label: Staff Count
    type: number
    default: 12          # Standard staffing levels
    min: 3
    max: 50
    step: 1
    description: Industry-standard staffing for 80-seat restaurant

  - key: avgWage
    label: Average Hourly Wage
    type: number
    default: 18.50       # Market-competitive wages
    min: 12.00
    max: 35.00
    step: 0.50
    description: Competitive wages to attract quality staff

  - key: cuisineType
    label: Cuisine Type
    type: select
    default: casual-dining
    options: [fast-casual, casual-dining, fine-dining, ethnic-specialty]
    description: Standard casual dining concept

  - key: locationQuality
    label: Location Quality
    type: select
    default: good
    options: [poor, fair, good, excellent, prime]
    description: Good location with decent foot traffic

  - key: hasDelivery
    label: Offers Delivery Service
    type: boolean
    default: true        # Modern expectation
    description: Delivery service to capture additional revenue

groups:
  - name: Market Investment
    description: Industry-standard initial investment and ongoing costs
    parameters: [startupCosts, monthlyRent, staffCount, avgWage]
    
  - name: Standard Operations
    description: Typical capacity and pricing for casual dining
    parameters: [seatingCapacity, averageTicket, cuisineType, hasDelivery]
    
  - name: Good Market Position
    description: Solid location with growth potential
    parameters: [locationQuality]

outputs:
  - key: monthlyRevenue
    label: Monthly Revenue
    description: Gross monthly revenue from all sources

  - key: monthlyOperatingCosts
    label: Monthly Operating Costs
    description: Total monthly expenses excluding startup costs

  - key: monthlyNetProfit
    label: Monthly Net Profit
    description: Monthly profit after all operating expenses

  - key: breakEvenMonths
    label: Break-even Period
    description: Number of months to recover initial startup investment

  - key: annualROI
    label: Annual ROI Percentage
    description: Return on investment percentage based on first year performance

simulation:
  logic: |
    // Location quality factors - market standard
    const locationMultipliers = {
      poor: 0.6,
      fair: 0.8,
      good: 1.0,        // Neutral scenario uses good location
      excellent: 1.3,
      prime: 1.6
    }
    
    // Cuisine type factors with market averages
    const cuisineFactors = {
      'fast-casual': { frequency: 1.4, ticketVariation: 0.8 },
      'casual-dining': { frequency: 1.0, ticketVariation: 1.0 },  // Market standard
      'fine-dining': { frequency: 0.6, ticketVariation: 1.5 },
      'ethnic-specialty': { frequency: 0.9, ticketVariation: 1.1 }
    }
    
    // Market-average utilization assumptions
    const baseUtilization = 0.35 + random() * 0.25  // 35-60% capacity utilization
    const locationFactor = locationMultipliers[locationQuality]
    const cuisineFactor = cuisineFactors[cuisineType]
    
    // Calculate daily customers with market assumptions
    const actualUtilization = min(baseUtilization * locationFactor * cuisineFactor.frequency, 0.95)
    const dailyCustomers = seatingCapacity * actualUtilization * 2.5  // Industry average 2.5 turns
    
    // Revenue calculations with normal market volatility
    const actualTicket = averageTicket * (0.8 + random() * 0.4) * cuisineFactor.ticketVariation
    const dineInRevenue = dailyCustomers * actualTicket * 30  // Monthly
    
    // Delivery revenue with market-average uptake
    let deliveryRevenue = 0
    if (hasDelivery) {
      const deliveryCustomers = dailyCustomers * 0.30 * (0.8 + random() * 0.4)  // 30% delivery uptake
      deliveryRevenue = deliveryCustomers * actualTicket * 0.85 * 30  // 15% delivery fee impact
    }
    
    const monthlyRevenue = dineInRevenue + deliveryRevenue
    
    // Operating cost calculations with market averages
    const laborCosts = staffCount * avgWage * 40 * 4.33  // Monthly labor
    const foodCosts = monthlyRevenue * (0.28 + random() * 0.08)  // Industry standard 28-36%
    const utilitiesInsurance = 3500 + random() * 1500  // Market average utilities
    const marketingCosts = monthlyRevenue * 0.03  // Standard 3% marketing spend
    const maintenanceRepairs = 1200 + random() * 800  // Normal maintenance costs
    const miscOperating = 2000 + random() * 1000  // Standard miscellaneous costs
    
    const monthlyOperatingCosts = monthlyRent + laborCosts + foodCosts + 
                                 utilitiesInsurance + marketingCosts + 
                                 maintenanceRepairs + miscOperating
    
    // Profit calculations
    const monthlyNetProfit = monthlyRevenue - monthlyOperatingCosts
    
    // Break-even and ROI calculations
    const breakEvenMonths = monthlyNetProfit > 0 ? 
                           startupCosts / monthlyNetProfit : 999
    
    const annualNetProfit = monthlyNetProfit * 12
    const annualROI = (annualNetProfit / startupCosts) * 100
    
    return {
      monthlyRevenue: round(monthlyRevenue),
      monthlyOperatingCosts: round(monthlyOperatingCosts),
      monthlyNetProfit: round(monthlyNetProfit),
      breakEvenMonths: min(round(breakEvenMonths * 10) / 10, 999),
      annualROI: round(annualROI * 10) / 10
    }