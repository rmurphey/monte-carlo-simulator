name: Test ARR Injection
category: Test
description: Simple test to verify automatic ARR injection by the core framework
version: 1.0.0
tags: [test, arr-injection, framework]

parameters:
  - key: projectComplexity
    label: Project Complexity Factor
    type: number
    default: 1.2
    min: 0.5
    max: 3.0
    step: 0.1
    description: Multiplier for project complexity

  - key: teamSize
    label: Team Size
    type: number
    default: 5
    min: 1
    max: 20
    step: 1
    description: Number of team members

outputs:
  - key: projectBudget
    label: Project Budget
    description: Total project budget based on ARR

  - key: monthlyBudget
    label: Monthly Budget
    description: Monthly project budget

  - key: costPerDeveloper
    label: Cost per Developer
    description: Budget allocated per team member

simulation:
  logic: |
    // Test ARR business context injection with framework functions
    
    // Use business context functions (injected by framework)
    const totalProjectBudget = businessContext.getProductBudget(15) // 15% of ARR for this project
    const adjustedBudget = totalProjectBudget * projectComplexity
    const monthlyProjectBudget = businessContext.getMonthlyFromPercent(15) * projectComplexity
    const costPerDeveloper = adjustedBudget / teamSize
    
    return {
      projectBudget: round(adjustedBudget),
      monthlyBudget: round(monthlyProjectBudget),
      costPerDeveloper: round(costPerDeveloper)
    }